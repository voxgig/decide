!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Decide=n()}}((function(){var n={exports:{}};(function(e){!function(t){"object"==typeof n.exports?n.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).Patrun=t()}((function(){var n={exports:{}};function t(e){e=e||{};var t={},r={};function o(n,e,t){if(t){var r=n.g=n.g||{},o=r[e]=r[e]||[];o.push(t),o.sort((function(n,e){return n.val$<e.val$}))}}return t.top=function(){return r},t.add=function(i,u){i={...i};var f="function"==typeof e?e.call(t,i,u):null,l=Object.keys(i),s=[],c=[];l.forEach((function(n){var t=i[n];null!=t&&(t=String(t),i[n]=t,(e.gex&&t.match(/[*?]/)?c:s).push(n))})),s=s.sort(),c=c.sort(),l=s.concat(c);for(var a,d=r,v=0;v<l.length;v++){var p=l[v],h=i[p],g=e.gex&&h.match(/[*?]/)?n(h):null;g&&(g.val$=h);var y=(g?"1":"0")+"~"+p;if((a=d.v)&&y==d.sk)o(d,p,g),d=a[h]||(a[h]={});else if(d.k)if(y<d.sk){var k=d.s,w=d.g;d.s={k:d.k,sk:d.sk,v:d.v},k&&(d.s.s=k),w&&(d.s.g=w),d.g&&(d.g={}),o(d,p,g),d.k=p,d.sk=y,d.v={},d=d.v[h]={}}else a=d.v,d=d.s||(d.s={}),v--;else o(d,p,g),d.k=p,d.sk=y,d.v={},d=d.v[h]={}}return void 0!==u&&d&&(d.d=u,f&&(d.f="function"==typeof f?f:f.find,d.r="function"==typeof f.remove?f.remove:void 0)),t},t.findexact=function(n){return t.find(n,!0)},t.find=function(n,o,i){if(null==n)return null;var u=r,f=void 0===r.d?null:r.d,l=r.f,s=null,c=[],a={},d=Object.keys(n).length,v=[];void 0!==r.d&&v.push(r.d);do{if(s=u.k,u.v){var p=n[s],h=u.v[p];if(!h&&e.gex&&u.g&&u.g[s])for(var g=u.g[s],y=0;y<g.length;y++)if(null!=g[y].on(p)){h=u.v[g[y].val$];break}h?(a[s]=!0,u.s&&c.push(u.s),f=void 0===h.d?o?null:f:h.d,i&&void 0!==h.d&&v.push(h.d),l=h.f,u=h):u=u.s}else u=null;null==u&&0<c.length&&(null==f||i&&!o)&&(u=c.pop())}while(u);return o?Object.keys(a).length!==d&&(f=null):null==f&&void 0!==r.d&&(f=r.d),l&&(f=l.call(t,n,f)),i?v:f},t.remove=function(n){var e,t=r,o=null,i=[];do{if(e=t.k,t.v){var u=t.v[n[e]];u?(i.push({km:t,v:n[e]}),o=u.d,t=u):t=t.s}else t=null}while(t);if(void 0!==o){var f=i[i.length-1];if(f&&f.km&&f.km.v){var l=f.km.v[f.v];l.r&&!l.r(n,l.d)||delete l.d}}},t.list=function(e,t){e=e||{};var o=[];return r.d&&o.push({match:{},data:r.d,find:r.f}),function r(o,i,u,f){if(o.v){var l,s=o.k,c=n(e?null==e[s]?t?null:"*":e[s]:"*"),a={...i},d={...u};for(var v in o.v)if(v===e[s]||!t&&null==e[s]||c.on(v)){var p={...a};p[s]=v;var h={...d};delete h[s],l=o.v[v],0===Object.keys(h).length&&l&&l.d&&f.push({match:p,data:l.d,find:l.f}),l&&null!=l.v&&r(l,{...p},{...h},f)}(l=o.s)&&r(l,{...a},{...d},f)}}(r,{},{...e},o),o},t.toString=function(n,e){var t=!0===n||!!e,o="function"==typeof n?n:function(n){return"function"==typeof n?"<"+n.name+">":"<"+n+">"};function i(n,e){for(var t=0;t<e;t++)n.push(" ")}var u=[],f=[];return function n(e,t,r,f){var l;if(void 0!==e.d&&(t.push(" "+o(e.d)),u.push(f.join(", ")+" -> "+o(e.d))),e.k&&(t.push("\n"),i(t,r),t.push(e.k+":")),e.v){r++;var s=Object.keys(e.v),c=s.filter((function(n){return!n.match(/[*?]/)})),a=s.filter((function(n){return n.match(/[*?]/)}));c.sort(),a.sort(),s=c.concat(a);for(var d=0;d<s.length;d++){var v=s[d];t.push("\n"),i(t,r),t.push(v+" ->"),(l=f.slice()).push(e.k+"="+v),n(e.v[v],t,r+1,l)}e.s&&(t.push("\n"),i(t,r),t.push("|"),l=f.slice(),n(e.s,t,r+1,l))}}(r,f,0,[]),t?f.join(""):u.join("\n")},t.inspect=t.toString,t.toJSON=function(n){return JSON.stringify(r,(function(n,e){return"function"==typeof e?"[Function]":e}),n)},t}return function(e){!function(t){"object"==typeof n.exports?n.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).Gex=t()}((function(){var n;function e(n){return new t(n)}function t(n){var e=this;function t(n){return null==n||Number.isNaN(n)}function r(n){var e=""+n;return t(n)&&(e=""),e}function o(n){n=""+n;for(var e=!1,t=Object.keys(f),r=0;r<t.length&&!e;r++)e=!!f[t[r]].exec(n);return e}e.on=function(n){if(null==n)return null;var e=typeof n;if("string"===e||"number"===e||"boolean"===e||n instanceof Date||n instanceof RegExp)return o(n)?n:null;if(Array.isArray(n)){for(var r=[],i=0;i<n.length;i++)!t(n[i])&&o(n[i])&&r.push(n[i]);return r}var u={};for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&o(f)&&(u[f]=n[f]);return u},e.esc=function(n){var e=r(n);return(e=e.replace(/\*/g,"**")).replace(/\?/g,"*?")},e.re=function(n){if(""===n||n)return n="^"+(n=(n=(n=(n=(n=e.escregexp(n)).replace(/\\\*/g,"[\\s\\S]*")).replace(/\\\?/g,"[\\s\\S]")).replace(/\[\\s\\S\]\*\[\\s\\S\]\*/g,"\\*")).replace(/\[\\s\\S\]\*\[\\s\\S\]/g,"\\?"))+"$",new RegExp(n);var t=Object.keys(f);return 1==t.length?f[t[0]]:{...f}},e.escregexp=function(n){return n?(""+n).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):""},e.toString=function(){return null!=i?i:i="gex["+Object.keys(f)+"]"},e.inspect=function(){return e.toString()};var i,u=Array.isArray(n)?n:[n],f={};u.forEach((function(n){n=r(n);var t=e.re(n);f[n]=t}))}return n=e,e.Gex=t,n}))}.call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n=n.exports,function(n){return new t(n)}}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n=n.exports;return class{constructor(e){this._patrun=new n}}}));